#include <windows.h>
#include <string>

void ShowNotification(const std::string& message) {
    NOTIFYICONDATA nid = {};
    nid.cbSize = sizeof(NOTIFYICONDATA);
    nid.hWnd = NULL; // No window handle needed
    nid.uID = 1001;
    nid.uFlags = NIF_INFO;
    strcpy_s(nid.szInfo, message.c_str());
    strcpy_s(nid.szInfoTitle, "Notification");
    nid.dwInfoFlags = NIIF_INFO;

    // Show the notification
    Shell_NotifyIcon(NIM_ADD, &nid);
    Shell_NotifyIcon(NIM_MODIFY, &nid);

    // Sleep for a short duration to allow the notification to be displayed
    Sleep(1000);

    // Remove the notification
    Shell_NotifyIcon(NIM_DELETE, &nid);
}

int main() {
    while (true) {
        ShowNotification("This is a harmless infinite loop.");
        Sleep(1000); // Wait for 5 seconds before showing the next notification
    }
    return 0;
}
